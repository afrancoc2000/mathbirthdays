<!DOCTYPE html>
<!--[if lt IE 7 ]> <html lang="es-co" class="no-js ie6" ng-app="mathBirthdaysApp"> <![endif]-->
<!--[if IE 7 ]>    <html lang="es-co" class="no-js ie7" ng-app="mathBirthdaysApp"> <![endif]-->
<!--[if IE 8 ]>    <html lang="es-co" class="no-js ie8" ng-app="mathBirthdaysApp"> <![endif]-->
<!--[if IE 9 ]>    <html lang="es-co" class="no-js ie9" ng-app="mathBirthdaysApp"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="es-co" class="no-js" ng-app="mathBirthdaysApp"><!--<![endif]-->
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Math Birthdays</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
		<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
		<style>

		</style>

		<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
		<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular.min.js"></script>
		<script>
			(function(){
				var app = angular.module('mathBirthdaysApp', []);

				app.controller('BirthdayCtrl', ['$scope', '$window', '$timeout', function($scope, $window, $timeout){
					$scope.year = 1994;
					$scope.month = 6;
					$scope.day = 15;				

					$scope.daysFromBirthday = function(){
						var birthday = new Date($scope.year, $scope.month - 1, $scope.day);
						var today = new Date();
						return Math.floor((today - birthday)/(1000*60*60*24));
					};

					$scope.nextMBirthdayNumber = function(){
						var numChars = $scope.daysFromBirthday().toString().length;

						return Math.pow(10, numChars);
					};

					$scope.nextMBirthdayDate = function(){
						var daysToMathBirthday = $scope.nextMBirthdayNumber() - $scope.daysFromBirthday();
						var today = new Date();

						return today + daysToMathBirthday;
					};

					
				}]);
				
			})();



		</script>		

	</head>
	<body>
		<div class="header"></div>

		<div class="main" ng-controller="BirthdayCtrl">
			<div id="year" class="fieldcontain">
				<label>Year:</label>
				<input type="number" id="year" min="1914" max="2014" step="1" ng-model="year" />
			</div>
			<div id="month" class="fieldcontain">
				<label>Month:</label>
				<input type="number" id="year" min="1" max="12" step="1" ng-model="month" />
			</div>
			<div id="day" class="fieldcontain">
				<label>Day:</label>
				<input type="number" id="year" min="1" max="31" step="1" ng-model="day" />
			</div>

			<div class="fieldcontain">
				Your next math birthday is your {{nextMBirthdayNumber()}}-day-old birthday 
				on {{nextMBirthdayDate() | date:'medium'}} date <br/>
				{{daysFromBirthday()}}
			</div>

		</div>

		<div class="footer"></div>
	</body>
</html>
